{"version":3,"sources":["../node_modules/hyperapp/src/index.js","../node_modules/@hyperapp/router/src/Link.js","../node_modules/@hyperapp/router/src/parseRoute.js","../node_modules/@hyperapp/router/src/Route.js","../node_modules/@hyperapp/router/src/Switch.js","../node_modules/@hyperapp/router/src/Redirect.js","../node_modules/@hyperapp/router/src/location.js","../node_modules/@hyperapp/router/src/index.js","actions/forms.js","actions/auth.js","actions/toasts.js","actions/ajax_forms.js","actions/view_actions.js","actions/index.js","views/Home.js","components/PlotModal.js","components/FormInputs.js","components/FormDateInput.js","components/MultiSelect.js","components/Spinners.js","components/MultiModalForm.js","components/Pagination.js","components/Table.js","components/ModalForm.js","components/SearchForm.js","util/forms.js","util/auth.js","views/FilterTableView.js","views/Movies.js","views/People.js","views/SimpleFilterTableView.js","views/Login.js","components/Tabs.js","components/ToastContainer.js","components/DebugContainer.js","views/Main.js","state.js","index.js"],"names":["h","name","attributes","length","rest","children","arguments","push","node","pop","nodeName","key","app","state","actions","view","container","map","skipRender","rootElement","oldNode","recycleElement","element","toLowerCase","call","childNodes","nodeType","nodeValue","lifecycle","isRecycling","globalState","clone","wiredActions","wireStateToActions","path","action","data","result","get","then","scheduleRender","set","concat","resolveNode","render","patch","parent","isSvg","newElement","createElement","document","createTextNode","createElementNS","oncreate","i","appendChild","updateAttribute","insertBefore","removeElement","updateElement","oldAttributes","cb","onupdate","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","getKey","k","newKey","keyedNode","setTimeout","target","source","out","value","slice","eventListener","event","currentTarget","events","type","oldValue","style","setProperty","addEventListener","removeEventListener","setAttribute","removeAttribute","done","removeChild","removeChildren","ondestroy","onremove","getOrigin","loc","protocol","hostname","port","isExternal","anchorElement","location","Link","props","to","onclick","href","e","defaultPrevented","button","altKey","metaKey","ctrlKey","shiftKey","preventDefault","pathname","history","pushState","createMatch","isExact","url","params","trimTrailingSlash","len","decodeParam","val","decodeURIComponent","parseRoute","options","exact","paths","split","urls","Route","match","Switch","child","Redirect","replaceState","from","wrapHistory","keys","reduce","next","fn","title","dispatchEvent","CustomEvent","detail","window","previous","go","subscribe","handleLocationChange","unwrap","module","exports","updateField","formname","fieldname","console","log","forms","Object","assign","addErrors","errors","searchAction","reset","load","current","search","encodeURIComponent","join","login","g_actions","updateLoading","username","password","fetch","g_urls","method","body","JSON","stringify","headers","r","json","j","updateLogin","toasts","add","text","logout","loading","localStorage","setItem","hide","items","idx","v","indexOf","clear","ajaxUrl","saveEdit","item","edit","Array","isArray","x","id","saveUrl","response","status","updateEdit","catch","error","page","update","count","results","formActions","auth","people","genres","jobs","movies","updateShowPlot","showPlot","updateEditPeople","movie","editPeople","Home","require","PlotModal","story","AbstractInput","field","realInput","label","FormInput","FormInputLong","FormDateInput","$","datepicker","dateFormat","onSelect","date","inst","MultiSelect","select2","ajax","dataType","delay","placeholder","term","processResults","forEach","option","Option","append","trigger","on","newval","Spinner","SpinnerSmall","renderField","updateFieldAction","ftype","undefined","renderFields","fields","f","MultiModalForm","formFields","hideAction","saveAction","Pagination","loadAction","Row","row","rowColumns","z","Table","rowHeaders","rows","ModalForm","SearchForm","marginTop","mergeValuesErrors","checkAuth","list","getExistingAuth","existingAuth","getItem","parse","extraViews","ev","release_year","runtime","substring","multiFormFields","saveEditPeople","Movies","person","birthday","People","SimpleFilterTableView","okClick","Login","createTab","currentLocation","Toast","ToastContainer","t","genericState","application","main","getElementById","unsubscribe","hideToasts"],"mappings":"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","file":"index.js","sourceRoot":"..\\srcjs","sourcesContent":["export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null ? node : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function set(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1 ? set(path.slice(1), value, source[path[0]]) : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function get(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(get(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = get(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = set(path, clone(state, result), globalState))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      for (var i in clone(oldValue, value)) {\n        var style = value == null || value[i] == null ? \"\" : value[i]\n        if (i[0] === \"-\") {\n          element[name].setProperty(i, style)\n        } else {\n          element[name][i] = style\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (name in element && name !== \"list\" && !isSvg) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","import { h } from \"hyperapp\"\n\nfunction getOrigin(loc) {\n  return loc.protocol + \"//\" + loc.hostname + (loc.port ? \":\" + loc.port : \"\")\n}\n\nfunction isExternal(anchorElement) {\n  // Location.origin and HTMLAnchorElement.origin are not\n  // supported by IE and Safari.\n  return getOrigin(location) !== getOrigin(anchorElement)\n}\n\nexport function Link(props, children) {\n  return function(state, actions) {\n    var to = props.to\n    var location = state.location\n    var onclick = props.onclick\n    delete props.to\n    delete props.location\n\n    props.href = to\n    props.onclick = function(e) {\n      if (onclick) {\n        onclick(e)\n      }\n      if (\n        e.defaultPrevented ||\n        e.button !== 0 ||\n        e.altKey ||\n        e.metaKey ||\n        e.ctrlKey ||\n        e.shiftKey ||\n        props.target === \"_blank\" ||\n        isExternal(e.currentTarget)\n      ) {\n      } else {\n        e.preventDefault()\n\n        if (to !== location.pathname) {\n          history.pushState(location.pathname, \"\", to)\n        }\n      }\n    }\n\n    return h(\"a\", props, children)\n  }\n}\n","function createMatch(isExact, path, url, params) {\n  return {\n    isExact: isExact,\n    path: path,\n    url: url,\n    params: params\n  }\n}\n\nfunction trimTrailingSlash(url) {\n  for (var len = url.length; \"/\" === url[--len]; );\n  return url.slice(0, len + 1)\n}\n\nfunction decodeParam(val) {\n  try {\n    return decodeURIComponent(val)\n  } catch (e) {\n    return val\n  }\n}\n\nexport function parseRoute(path, url, options) {\n  if (path === url || !path) {\n    return createMatch(path === url, path, url)\n  }\n\n  var exact = options && options.exact\n  var paths = trimTrailingSlash(path).split(\"/\")\n  var urls = trimTrailingSlash(url).split(\"/\")\n\n  if (paths.length > urls.length || (exact && paths.length < urls.length)) {\n    return\n  }\n\n  for (var i = 0, params = {}, len = paths.length, url = \"\"; i < len; i++) {\n    if (\":\" === paths[i][0]) {\n      params[paths[i].slice(1)] = urls[i] = decodeParam(urls[i])\n    } else if (paths[i] !== urls[i]) {\n      return\n    }\n    url += urls[i] + \"/\"\n  }\n\n  return createMatch(false, path, url.slice(0, -1), params)\n}\n","import { parseRoute } from \"./parseRoute\"\n\nexport function Route(props) {\n  return function(state, actions) {\n    var location = state.location\n    var match = parseRoute(props.path, location.pathname, {\n      exact: !props.parent\n    })\n\n    return (\n      match &&\n      props.render({\n        match: match,\n        location: location\n      })\n    )\n  }\n}\n","export function Switch(props, children) {\n  return function(state, actions) {\n    var child,\n      i = 0\n    while (\n      !(child = children[i] && children[i](state, actions)) &&\n      i < children.length\n    )\n      i++\n    return child\n  }\n}\n","export function Redirect(props) {\n  return function(state, actions) {\n    var location = state.location\n    history.replaceState(props.from || location.pathname, \"\", props.to)\n  }\n}\n","function wrapHistory(keys) {\n  return keys.reduce(function(next, key) {\n    var fn = history[key]\n\n    history[key] = function(data, title, url) {\n      fn.call(this, data, title, url)\n      dispatchEvent(new CustomEvent(\"pushstate\", { detail: data }))\n    }\n\n    return function() {\n      history[key] = fn\n      next && next()\n    }\n  }, null)\n}\n\nexport var location = {\n  state: {\n    pathname: window.location.pathname,\n    previous: window.location.pathname\n  },\n  actions: {\n    go: function(pathname) {\n      history.pushState(null, \"\", pathname)\n    },\n    set: function(data) {\n      return data\n    }\n  },\n  subscribe: function(actions) {\n    function handleLocationChange(e) {\n      actions.set({\n        pathname: window.location.pathname,\n        previous: e.detail\n          ? (window.location.previous = e.detail)\n          : window.location.previous\n      })\n    }\n\n    var unwrap = wrapHistory([\"pushState\", \"replaceState\"])\n\n    addEventListener(\"pushstate\", handleLocationChange)\n    addEventListener(\"popstate\", handleLocationChange)\n\n    return function() {\n      removeEventListener(\"pushstate\", handleLocationChange)\n      removeEventListener(\"popstate\", handleLocationChange)\n      unwrap()\n    }\n  }\n}\n","export { Link } from \"./Link\"\nexport { Route } from \"./Route\"\nexport { Switch } from \"./Switch\"\nexport { Redirect } from \"./Redirect\"\nexport { location } from \"./location\"\n","module.exports = {\n\n    updateField: ({formname, fieldname, value}) => state => {\n        console.log(\"Update \", formname, fieldname, value);\n        return {\n            forms: Object.assign({}, state.forms,  {\n                [formname]: Object.assign({}, state.forms[formname], {\n                    [fieldname]: value\n                })\n            })\n        }\n    },\n\n    addErrors: ({formname, errors}) => state => {\n        console.log(\"Add errors \", errors );\n        return {\n            forms: Object.assign({}, state.forms,  {\n                [formname]: Object.assign({}, state.forms[formname], {\n                    errors\n                })\n            })\n        }\n    },\n\n    searchAction: (reset) => (state, actions) => {\n        if(reset) {\n            actions.load(state.current.split('?')[0]);\n            return {\n                forms: Object.assign({}, state['forms'], {\n                search: {}\n                })\n            };\n        } else {\n            let params = Object.keys(state.forms.search).map(function(k) {\n                return encodeURIComponent(k) + '=' + encodeURIComponent(state.forms.search[k])\n            }).join('&');\n            actions.load(state.current.split('?')[0]+'?'+params);\n        }\n    },\n\n}","import { updateField } from './forms.js';\n\n\nmodule.exports = {\n  login: g_actions => (state, actions) => {\n    actions.updateLoading(true);\n    let data = {\n      username: state.forms.login.username,\n      password: state.forms.login.password,\n    };\n    fetch(g_urls.login, {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'content-type': 'application/json'\n      }\n    }).then(function (r) { return r.json() }).then(function (j) {\n      if(j.key) {\n        console.log(\"OK\" , j.key, state.forms.login.username )\n        actions.updateLogin({key: j.key, username: state.forms.login.username});\n        g_actions.location.go(\"/\");\n        g_actions.toasts.add({text: \"Successfully logged in!\", style: \"success\"} )\n\n      } else {\n        g_actions.toasts.add({text: \"Error while logging in - please try again!\", style: \"error\"})\n      }\n      actions.updateLoading(false)\n    })\n  },\n  logout: g_actions => (state, actions) => {\n    actions.updateLoading(true)\n    setTimeout(() => fetch(g_urls.logout, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      }\n    }).then(function (r) { return r.json() }).then(function (j) {\n      actions.updateLogin({key: null, username: null});\n      g_actions.location.go(\"/\");\n      actions.updateLoading(false)\n      g_actions.toasts.add({text: \"Successfully logged out!\", style: \"success\"})\n    }), 500);\n  },\n  updateLoading: loading => state => ({\n    loading\n  }),\n  updateLogin: ({key, username}) => state => {\n    localStorage.setItem(\"auth\", JSON.stringify({key, username}))\n    return {\n      key,\n      username,\n      forms: {\n        login: {}\n      }\n    }\n  },\n  updateField\n}\n","module.exports = {\n  add: ({text, style}) => (state, actions) => {\n    // Hide toast after 10 s\n    window.setTimeout( () => {\n      actions.hide(text);\n    }, 10000);\n    return {\n      items: [...state.items, {text: text, style: style}]\n    };\n  },\n\n  hide: text => state => {\n    let idx = state.items.map(v => v.text).indexOf(text);\n    return {\n      items: [\n        ...state.items.slice(0, idx),\n        ...state.items.slice(idx+1),\n      ]\n    };\n  },\n  clear: () => state => ({\n    items: []\n  })\n};\n","module.exports = (ajaxUrl) => ({\n    saveEdit: ({key, g_actions}) => (state, actions) => {\n        actions.updateLoading(true);\n        let item = state.forms.edit;\n\n        for(var k in item) {\n            let v = item[k];\n            if(Array.isArray(v)) {\n                item[k] = v.map(x=> {\n                    return {\n                        'id': x.id,\n                        'name': x.text\n                    }\n                }\n                )\n            }\n        }\n        let saveUrl = '';\n        let method = '';\n        if(item.id) { // UPDATE\n            saveUrl = ajaxUrl+item.id+'/';\n            method = 'PATCH';\n        } else { // CREATE\n            saveUrl = ajaxUrl;\n            method = 'POST';\n        }\n\n        window.setTimeout( () => {\n        fetch(saveUrl, {\n            body: JSON.stringify(item),\n            headers: {\n                'content-type': 'application/json',\n                'Authorization': 'Token ' + key\n            },\n            method,\n        }).then(response => {\n            actions.updateLoading(false);\n\n            if(response.status == 400) {\n                response.json().then(errors => {\n                    actions.addErrors({formname: 'edit', errors});\n                });\n            } else if(response.status == 200 || response.status == 201) {\n                response.json().then(data => {\n                    // Data is the object that was saved\n                    g_actions.toasts.add({text: 'Successfully saved object!', style: 'success'} );\n                    actions.updateEdit(null);\n                    actions.load(state.current);\n                });\n            }\n        }).catch(error => {\n            console.log('ERR', error.status);\n        });\n        }, 500);\n    },\n})","import createAjaxFormActions from \"./ajax_forms.js\"\nimport formActions from \"./forms.js\"\n\nmodule.exports = ajaxUrl => ({\n  load: url => (state, actions) => {\n    actions.updateLoading(true);\n\n    setTimeout(() => fetch(url).then(function (r) { return r.json()}).then(function (j) {\n      let match = url.match(/\\?page=(\\d+)/);\n      let page = 1;\n      if (match) page = 1*match[1];\n\n      actions.update({response: j, current: url, page});\n      actions.updateLoading(false);\n    }), 100);\n  },\n\n  updateLoading: loading => state => ({\n    loading\n  }),\n\n  update: ({response, current, page}) => state => ({\n    page,\n    current,\n    count: response.count,\n    next: response.next,\n    previous: response.previous,\n    items: response.results\n  }),\n\n  updateEdit: item => state => ({\n    forms: Object.assign({}, state['forms'], {\n      edit: item\n    })\n  }),\n\n  ...formActions,\n  ...createAjaxFormActions(ajaxUrl)\n});\n","import { location } from \"@hyperapp/router\"\nimport auth from \"./auth.js\"\nimport toasts from \"./toasts.js\"\nimport createViewActions from \"./view_actions\"\n\nconst actions = module.exports = {\n    location: location.actions,\n    auth,\n    people: createViewActions(window.g_urls.people),\n    genres: createViewActions(window.g_urls.genres),\n    jobs: createViewActions(window.g_urls.jobs),\n    movies: Object.assign({}, createViewActions(window.g_urls.movies), {\n        updateShowPlot: showPlot => state => ({\n            showPlot\n        }),\n        updateEditPeople: movie => state => ({\n            forms: Object.assign({}, state['forms'], {\n                editPeople: movie\n            })\n        }),\n    }),\n    toasts\n\n}\n","import { h } from \"hyperapp\"\n\nconst Home = module.exports = (state, actions) => <div key='home'>\n    {state.auth.key?<span>Hello, {state.auth.username}!</span>:<span>Please login to edit things</span>}\n</div>\n","const { h } = require('hyperapp')\n\nconst PlotModal = module.exports = ({ movie, actions }) => <div className={`modal ${movie?'active':''}`}>\n<div class=\"modal-overlay\"></div>\n    <div class=\"modal-container\">\n    <div class=\"modal-header\">\n        <button class=\"btn btn-clear float-right\" onclick={() => actions.updateShowPlot(null)}></button>\n        <div class=\"modal-title h5\">{movie.title}</div>\n    </div>\n    <div class=\"modal-body\">\n        <div class=\"content\">\n            {movie.story}\n        </div>\n    </div>\n        <div class=\"modal-footer\">\n            <button class=\"btn\" onclick={() => actions.updateShowPlot(null)}>Ok</button>\n\n        </div>\n    </div>\n</div>\n","import { h } from 'hyperapp'\n\nconst AbstractInput = ({field, action, realInput}) => <div class={`form-group ${field.errors?'has-error':''}`} key={field.key}>\n<label class=\"form-label\" for=\"{field.key}\">{field.label}</label>\n{realInput}\n<div class='form-input-hint'>{field.errors?field.errors[0]:null}</div>\n</div>\n\nconst FormInput = ({field, action}) => AbstractInput({\n    field, \n    action, \n    realInput: <input class=\"form-input\" type={field.type} id={field.key}\n        placeholder={field.label} value={field.value} \n        oninput={e => action(e.target.value)}\n        />\n})\n\n\nconst FormInputLong =({field, action}) => AbstractInput({\n    field, \n    action, \n    realInput: <textarea class=\"form-input\" id={field.key} rows='5'\n        placeholder={field.label} \n        oninput={e => action(e.target.value)}\n        value={field.value}\n        />\n    \n})\n\n\n\nmodule.exports['FormInput'] = FormInput\nmodule.exports['FormInputLong'] = FormInputLong","const { h } = require('hyperapp')\n\n\nconst FormDateInput = module.exports = ({field, action}) => <div class=\"form-group\" >\n    <label class=\"form-label\" for=\"{field.label}\">{field.label}</label>\n    <input class=\"form-input\" type=\"text\" id=\"{field.label}\" \n        placeholder={field.label} value={field.value} \n        oncreate={element => {\n            $(element).datepicker({\n                dateFormat: \"yy-mm-dd\",\n                onSelect: (date, inst) => {\n                    console.log(date, inst)\n                    action(date)\n                }\n            })\n        }}\n    />\n</div>\n\n","import { h } from 'hyperapp'\n\n\nconst MultiSelect = ({label, field, action}) => <div class=\"form-group\" >\n    <label class=\"form-label\" for=\"{field.label}\">{field.label}</label>\n    <select name=\"\" style=\"width: 50%\" multiple=\"multiple\" oncreate={element => {\n    $(element).select2({\n        ajax: {\n            url: field.url,\n            dataType: 'json',\n            delay: 250,\n            placeholder: 'Search for ' + field.label.toLowerCase(),\n            data: function (params) {\n                return {\n                    name: params.term,\n                }\n            },\n            processResults: function (data) {\n                return {\n                    results: data.results.map(r => {return {'id': r.id, 'text': r.name}})\n                };\n            }\n        }\n    });\n    if(field.value) {\n        field.value.forEach(v => {\n            var option = new Option(v.name, v.id, true, true);\n            $(element).append(option).trigger('change');\n        })\n    }\n    $(element).on('change', e => {\n\n        console.log(e);\n        let newval = $(element).select2('data')\n        console.log(newval);\n        action(newval)\n    });\n }}>\n </select></div>\n\nmodule.exports = MultiSelect","import { h } from 'hyperapp'\n\nconst Spinner = () => <div class=\"spinner\">\n    <div class=\"bounce1\" />\n    <div class=\"bounce2\" />\n    <div class=\"bounce3\" />\n</div>\n\n\nconst SpinnerSmall = module.exports = () => <div class=\"loading loading-lg\"></div>\n\nmodule.exports['Spinner'] = Spinner\nmodule.exports['SpinnerSmall'] = SpinnerSmall","import { h } from 'hyperapp'\nimport { FormInput, FormInputLong } from './FormInputs.js'\nimport FormDateInput from './FormDateInput.js'\nimport MultiSelect from './MultiSelect.js'\nimport { SpinnerSmall } from './Spinners.js'\n\n\nconst renderField = (field, updateFieldAction ) => {\n  let ftype = undefined;\n  switch(field.type) {\n    case 'longtext': ftype = FormInputLong; break;\n    case 'text': ftype = FormInput; break;\n    case 'number': ftype = FormInput; break;\n    case 'multiselect': ftype = MultiSelect; break;\n    case 'date': ftype = FormDateInput; break;\n  }\n  return ftype({\n    field,\n    action: (val) => updateFieldAction(field.key, val)\n  });\n}\n\nconst renderFields = (fields,  updateFieldAction) => fields.map(\n  f => renderField(f, updateFieldAction)\n)\n\nconst MultiModalForm = module.exports = ({ loading, formFields, item, hideAction, saveAction, updateFieldAction }) => <div className={`modal ${item?'active':''}`}>\n  <div class=\"modal-overlay\"></div>\n  <div class=\"modal-container\">\n    <div class=\"modal-header\">\n      <button class=\"btn btn-clear float-right\" onclick={hideAction}></button>\n      <div class=\"modal-title h5\">{item.id?`Editing multi-form for item ${item.id}`:\"Add new item!\"}</div>\n    </div>\n    <div class=\"modal-body\">\n      <div class=\"content\">\n        <form method='POST'>\n          {renderFields(formFields, updateFieldAction)}\n        </form>\n      </div>\n    </div>\n    <div class=\"modal-footer\">\n      {loading?<SpinnerSmall />:<div>\n        <button class=\"btn\" onclick={hideAction}>Cancel</button>\n        <button class=\"ml-2 btn btn-primary\" onclick={saveAction}>Ok</button>\n      </div>}\n    </div>\n  </div>\n</div>\n","const { h } = require('hyperapp')\n\nconst Pagination = module.exports = ({page, next, previous, loadAction}) => <ul class=\"pagination\">\n    <li class={`page-item ${previous?'':'disabled'}`}>\n        <a onclick={() => loadAction(previous)} href=\"#\" tabindex=\"-1\">Previous</a>\n    </li>\n    <li class=\"page-item\">\n        <a href=\"#\">{page}</a>\n    </li>\n    <li class={`page-item ${next?'':'disabled'}`}>\n        <a onclick={() => loadAction(next) } href=\"#\">Next</a>\n    </li>\n</ul>\n\n","import { h } from 'hyperapp'\nimport Pagination from '../components/Pagination.js'\n\nconst Row = module.exports = ({ row, rowColumns, actions }) => <tr>\n    {rowColumns.map(z => <td>{z(row, actions)}</td>) }\n</tr>\n\n\nconst Table = module.exports = ({ rowHeaders, rowColumns, rows, actions }) => <div>\n    <table class=\"table table-striped table-hover\">\n        <thead><tr>\n            {rowHeaders.map(z => <th>{z}</th>)}\n        </tr></thead>\n        <tbody>\n            {\n                rows.items.map(z => <Row row={z} rowColumns={rowColumns} actions={actions}/>)\n            }\n        </tbody>\n    </table>\n    <Pagination page={rows.page} next={rows.next} previous={rows.previous} loadAction={actions.load} />\n</div>\n","import { h } from 'hyperapp'\nimport { FormInput, FormInputLong } from './FormInputs.js'\nimport FormDateInput from './FormDateInput.js'\nimport MultiSelect from './MultiSelect.js'\nimport { SpinnerSmall } from './Spinners.js'\n\n\nconst renderField = (field, updateFieldAction ) => {\n  let ftype = undefined;\n  switch(field.type) {\n    case 'longtext': ftype = FormInputLong; break;\n    case 'text': ftype = FormInput; break;\n    case 'number': ftype = FormInput; break;\n    case 'multiselect': ftype = MultiSelect; break;\n    case 'date': ftype = FormDateInput; break;\n  }\n  return ftype({\n    field,\n    action: (val) => updateFieldAction(field.key, val)\n  });\n}\n\nconst renderFields = (fields,  updateFieldAction) => fields.map(\n  f => renderField(f, updateFieldAction)\n)\n\nconst ModalForm = module.exports = ({ loading, formFields, item, hideAction, saveAction, updateFieldAction }) => <div className={`modal ${item?'active':''}`}>\n  <div class=\"modal-overlay\"></div>\n  <div class=\"modal-container\">\n    <div class=\"modal-header\">\n      <button class=\"btn btn-clear float-right\" onclick={hideAction}></button>\n      <div class=\"modal-title h5\">{item.id?`Editing form for item ${item.id}`:\"Add new item!\"}</div>\n    </div>\n    <div class=\"modal-body\">\n      <div class=\"content\">\n        <form method='POST'>\n          {renderFields(formFields, updateFieldAction)}\n        </form>\n      </div>\n    </div>\n    <div class=\"modal-footer\">\n      {loading?<SpinnerSmall />:<div>\n        <button class=\"btn\" onclick={hideAction}>Cancel</button>\n        <button class=\"ml-2 btn btn-primary\" onclick={saveAction}>Ok</button>\n      </div>}\n    </div>\n  </div>\n</div>\n","import { h } from 'hyperapp'\nimport { SpinnerSmall } from '../components/Spinners.js'\n\n\nconst renderField = (field, updateFieldAction ) => {\n    let ftype = FormInput \n    if(field.type == 'longtext') ftype = FormInputLong\n    return ftype({\n        field,\n        action: (val) => updateFieldAction(field.key, val)\n    });\n}\n\nconst renderFields = (fields,  updateFieldAction) => fields.map(\n    f => renderField(f, updateFieldAction)\n)\n\nconst SearchForm = module.exports = ({ loading, formFields, searchAction, updateFieldAction }) => <form method='GET' class='form-horizontal'>\n    <div class=\"form-group\">\n        {\n            formFields.map(f => <div key={f.key}>    \n                <label class=\"form-label\" for={f.key}>{f.label}</label>\n                <input class=\"form-input\" type={f.type} id={f.key} placeholder={f.label} value={f.value} \n                    oninput={e => updateFieldAction (f.key,  e.target.value)}\n                />\n            </div>)\n        }\n        {loading?<SpinnerSmall />:<div  >\n            <button style={{marginTop: '2.3em'}}  class=\"btn ml-2 btn-primary\" onclick={e => {e.preventDefault(); searchAction(); return false; }}>Filter</button>\n            <button style={{'margin-top': '2.3em'}} class=\"btn ml-2\" onclick={e => {e.preventDefault(); searchAction(true); return false; }} >Reset</button>\n        </div>}\n    </div>\n</form>\n            ","\nconst mergeValuesErrors = (formFields, item, errors) => {\n    return formFields.map(f => Object.assign({}, f, {\n        'value': item[f.key]\n    }, errors?{\n        'errors': errors[f.key]\n    }:{}\n    ));\n}\n\nmodule.exports = {\n    mergeValuesErrors\n}","\nconst checkAuth = (list, auth) => {\n  if(auth.key) return list;\n  return list.slice(0, -1);\n};\n\nconst getExistingAuth = () => {\n  let existingAuth = localStorage.getItem('auth');\n\n  if(existingAuth) {\n    try {\n      existingAuth = JSON.parse(existingAuth);\n    } catch(error) {\n      existingAuth = null;\n    }\n  }\n  if(!existingAuth) existingAuth = {key:'', username:''};\n  return existingAuth;\n}\n\nmodule.exports = {\n    checkAuth, getExistingAuth\n}","import { h } from \"hyperapp\"\nimport { Spinner } from '../components/Spinners.js';\n\nimport Table from '../components/Table.js';\nimport ModalForm from '../components/ModalForm.js';\nimport SearchForm from '../components/SearchForm.js';\nimport { mergeValuesErrors } from '../util/forms.js';\nimport { checkAuth } from '../util/auth';\n\n\nmodule.exports = ({key, rowHeaders, rowColumns, formFields, title, extraViews}) => (state, actions, g_actions) => <div key={key}>\n  <h2>\n    {title} &nbsp;  &nbsp;\n    {state.auth.key?<button className=\"btn btn-primary btn-action btn-lg\" onclick={()=>actions.updateEdit({})}>\n      <i className=\"icon icon-plus\"></i>\n    </button>:null}\n  </h2>\n  <div className=\"columns\">\n    <div className=\"column col-lg-12\" oncreate={() => actions.load(window.g_urls[key])}>\n      <SearchForm\n        formFields={mergeValuesErrors(formFields, state[key].forms.search, null)}\n        updateFieldAction={(key, value)=>actions.updateField({formname: 'search', fieldname: key, value})}\n        searchAction={actions.searchAction}\n      />\n      {state[key].loading == true ? <Spinner /> : <Table\n        rowHeaders={checkAuth(rowHeaders, state.auth)}\n        rowColumns={checkAuth(rowColumns, state.auth)}\n        rows={state[key]}\n        actions={actions}\n      />}\n    </div>\n  </div>\n  {state[key].forms.edit?<ModalForm\n    loading={state[key].loading}\n    formFields={mergeValuesErrors(formFields, state[key].forms.edit, state[key].forms.edit.errors)}\n    item={state[key].forms.edit}\n    hideAction={()=>actions.updateEdit(null)}\n    saveAction={()=>actions.saveEdit({g_actions: g_actions, key: state.auth.key})}\n    updateFieldAction={(key, value)=>actions.updateField({formname: 'edit', fieldname: key, value})}\n  />:null}\n  {extraViews?extraViews.map( ev => ev(state, actions)):null}\n</div>;\n","import { h } from \"hyperapp\"\nimport PlotModal from '../components/PlotModal.js';\nimport MultiModalForm from '../components/MultiModalForm';\nimport FilterTableView from './FilterTableView.js';\n\nconst rowHeaders = [\n  'Id',\n  'Title',\n  'Release year',\n  'Runtime',\n  'Genres',\n  'Plot',\n  'Edit'\n]\n\nconst rowColumns = [\n  (movie) => movie.id,\n  (movie) => movie.title,\n  (movie) => movie.release_year,\n  (movie) => movie.runtime,\n  (movie) => movie.genres.map(z => <span className='chip bg-dark'><a class='text-secondary text-norma' href=''>{z.name}</a></span>),\n  (movie, actions) => <span onclick={()=>actions.updateShowPlot(movie)}>{movie.story.substring(0,50) + '...'}</span>,\n  (movie, actions) => <div>\n    <button className='btn btn-block btn-primary' onclick={()=>actions.updateEdit(Object.assign({}, movie) )}>Edit</button>\n    <button className='btn btn-block btn-primary' onclick={()=>actions.updateEditPeople(Object.assign({}, movie) )}>Edit people</button>\n  </div>\n];\n\n\nconst formFields = [\n  {'key': 'title', 'label': 'Title', 'type': 'text'},\n  {'key': 'release_year', 'label': 'Release Year', 'type': 'number'},\n  {'key': 'runtime', 'label': 'Runtime', 'type': 'number'},\n  {'key': 'story', 'label': 'Plot', 'type': 'longtext'},\n  {'key': 'genres', 'label': 'Genres', 'type': 'multiselect', url: '/api/genres/'},\n];\n\nconst multiFormFields = [\n  {'key': 'person', 'label': 'Person', 'type': 'text'},\n  {'key': 'job', 'label': 'Job', 'type': 'text'},\n]\n\nconst extraViews = [\n  (state, actions) => <div>{state.movies.showPlot?<PlotModal movie={state.movies.showPlot} actions={actions} />:null}</div>,\n  (state, actions) => <div>{state.movies.forms.editPeople?<div>WILL EDIT<MultiModalForm\n    loading={state.movies.loading}\n    //formFields={mergeValuesErrors(formFields, state.movies.forms.editPeople, state.movies.forms.editPeople.errors)}\n    formFields={multiFormFields}\n    item={state.movies.forms.editPeople}\n    hideAction={()=>actions.updateEditPeople(null)}\n    saveAction={()=>actions.saveEditPeople({g_actions: g_actions, key: state.auth.key})}\n    updateFieldAction={(key, value)=>actions.updateField({formname: 'edit', fieldname: 'movies', value})}\n  /></div>:null}</div>\n]\n\nconst Movies = FilterTableView({\n  key: 'movies',\n  rowHeaders,\n  rowColumns,\n  formFields,\n  title: 'Movies list',\n  extraViews\n})\n\nmodule.exports = Movies;","import { h } from \"hyperapp\"\nimport FilterTableView from './FilterTableView.js';\n\nconst rowHeaders = [\n  'Id',\n  'Name',\n  'Birthday',\n  'Edit'\n];\n\nconst rowColumns = [\n  (person) => person.id,\n  (person) => person.name,\n  (person) => person.birthday,\n  (person, actions) => <button className='btn btn-block btn-primary' onclick={()=>actions.updateEdit(Object.assign({}, person))}>Edit</button>\n];\n\nconst formFields = [\n  {'key': 'name', 'label': 'Name', 'type': 'text'},\n  {'key': 'birthday', 'label': 'Birthday', 'type': 'date'},\n];\n\nconst People = FilterTableView({\n  key: 'people',\n  rowHeaders,\n  rowColumns,\n  formFields,\n  title: 'People list'\n})\n\nmodule.exports = People;","import { h } from \"hyperapp\"\nimport FilterTableView from './FilterTableView.js';\n\nconst rowHeaders = [\n  'Id',\n  'Name',\n  'Edit'\n];\n\nconst rowColumns = [\n  (item) => item.id,\n  (item) => item.name,\n  (item, actions) => <button className='btn btn-block btn-primary' onclick={()=>actions.updateEdit(Object.assign({}, item))}>Edit</button>\n];\n\nconst formFields = [\n  {'key': 'name', 'label': 'Name', 'type': 'text'},\n];\n\nconst SimpleFilterTableView = ({key, title}) => FilterTableView({\n  key,\n  rowHeaders,\n  rowColumns,\n  formFields,\n  title\n})\n\nmodule.exports = SimpleFilterTableView;","import { h } from 'hyperapp';\nimport { FormInput } from '../components/FormInputs.js';\nimport { Spinner } from '../components/Spinners.js';\n\nconst okClick = (e, actions, g_actions) => {\n  actions.login(g_actions);\n  console.log(e);\n  e.preventDefault();\n  return false;\n};\n\nconst Login = module.exports = (state, actions, g_actions) => <div key='login'>\n  <h2>Login</h2>\n  <form method='POST'>\n    <FormInput\n      field={{label:'Username', value: state.forms.login.username, type:'text'}}\n      action={value=>actions.updateField({formname: 'login', fieldname: 'username', value}) } />\n    <FormInput\n      field={{label:'Password', value: state.forms.login.password, type:'password'}}\n      action={value=>actions.updateField({formname: 'login', fieldname: 'password', value}) } />\n    {state.loading == true ? <Spinner /> : <button id='btn' name='btn' className='btn btn-primary' onclick={(e)=>{ okClick(e, actions, g_actions)}}>Ok</button>}\n  </form>\n\n</div>;\n","import { h } from 'hyperapp'\n\nimport { Link } from \"@hyperapp/router\"\n\nconst createTab = (url, title) => (currentLocation) => <li className={`tab-item ${currentLocation.pathname==url?'active':''}`}>\n    <Link to={url}>{title}</Link>\n  </li>\n\n\nconst Table = module.exports = ({currentLocation, auth, actions}) => <ul class=\"tab tab-block\">\n  {createTab(\"/\", \"Home\")(currentLocation)}\n  {createTab(\"/movies\", \"Movies\")(currentLocation)}\n  {createTab(\"/people\", \"People\")(currentLocation)}\n  {createTab(\"/genres\", \"Genres\")(currentLocation)}\n  {createTab(\"/jobs\", \"Jobs\")(currentLocation)}\n  {auth.key?<div>\n    <span class='chip'>\n      {auth.username}\n    </span>\n    <button class='btn' onclick={()=>actions.auth.logout(actions)}>Logout</button>\n  </div>:<li className={`tab-item ${currentLocation.pathname=='/login'?'active':''}`}>\n   <Link to=\"/login\">Login</Link>\n  </li>\n  }\n</ul>\n","import { h } from 'hyperapp';\n\nconst Toast  = ({text, actions, style='primary'}) => <div className={`toast toast-${style}`}>\n  <button className=\"btn btn-clear float-right\" onclick={() => actions.toasts.hide(text)}></button>\n  {text}\n</div>;\n\nconst ToastContainer = module.exports = ({toasts, actions}) => <div className='toast-container'>\n  {toasts.items.map((t) => <Toast text={t.text} style={t.style} actions={actions} />)}\n</div>;\n\n","import { h } from 'hyperapp';\n\nmodule.exports = ({state, actions}) => <div className=\"accordion\">\n  <input type=\"checkbox\" id=\"accordion-1\" name=\"accordion-checkbox\" hidden />\n  <label className=\"accordion-header\" for=\"accordion-1\">\n    <i className=\"icon icon-arrow-right mr-1\"></i>\n    Show state\n  </label>\n  <div className=\"accordion-body\">\n    <pre><small>\n      {JSON.stringify(state, null, 2)}\n    </small></pre>\n  </div>\n</div>;\n","import { h } from 'hyperapp'\nimport { Switch, Route, NoMatch } from \"@hyperapp/router\";\n\nimport Home from './Home.js';\nimport Movies from './Movies.js';\nimport People from './People.js';\nimport SimpleFilterTableView from './SimpleFilterTableView.js';\nimport Login from './Login.js';\nimport Tabs from '../components/Tabs.js';\nimport ToastContainer from '../components/ToastContainer.js';\nimport DebugContainer from '../components/DebugContainer.js';\n\nmodule.exports = (state, actions) => <div className='container grid-xl'>\n  <Tabs currentLocation={state.location} auth={state.auth} actions={actions} />\n  <Switch>\n    <Route path=\"/\" render={() => Home(state, actions)} />\n    <Route path=\"/movies\" render={() => Movies(state, actions.movies, actions)} />\n    <Route path=\"/people\" render={() => People(state, actions.people, actions)} />\n    <Route path=\"/genres\" render={() => SimpleFilterTableView({key: 'genres', title: 'Genres'})(state, actions.genres, actions)} />\n    <Route path=\"/jobs\" render={() => SimpleFilterTableView({key: 'jobs', title: 'Jobs'})(state, actions.jobs, actions)} />\n    <Route path=\"/login\" render={() => Login(state.auth, actions.auth, actions)} />\n  </Switch>\n  <ToastContainer toasts={state.toasts} actions={actions} />\n  <hr />\n  <DebugContainer state={state} actions={actions} />\n\n</div>;\n\n","import { getExistingAuth } from './util/auth.js'\n\nconst genericState = {\n    loading: false,\n    page: null,\n    count: 0,\n    next: null,\n    previous: null,\n    items: [],\n    forms: {\n      edit: null,\n      search: {}\n    }\n  }\n\nconst existingAuth = getExistingAuth()\n\nconst state = module.exports = {\n  auth: {\n    key: existingAuth.key,\n    username: existingAuth.username,\n    loading: false,\n    forms: {\n      login: {}\n    }\n  },\n  location: location.state,\n  toasts: {\n    items: []\n  },\n  movies: Object.assign({}, genericState, {\n    showPlot: false,\n    forms: Object.assign({}, genericState['forms'], {\n      editPeople: null\n    })\n  }),\n  people: Object.assign({}, genericState),\n  genres: Object.assign({}, genericState),\n  jobs: Object.assign({}, genericState)\n};\n","import { h, app } from 'hyperapp';\nimport { location } from '@hyperapp/router';\nimport actions from './actions';\nimport main from './views/Main.js';\nimport state from './state.js';\n\nconst application = app(\n  state,\n  actions,\n  main,\n  document.getElementById('app')\n);\n\nconst unsubscribe = location.subscribe(application.location);\n\nconst hideToasts = () => {\n  application.toasts.clear();\n};\n\nactions.location.go('/');\n\naddEventListener('pushstate', hideToasts);\naddEventListener('popstate', hideToasts);\n"]}